Enable screenshots by setting the `attachScreenshot` option to `true` and wrap your root widget with `SentryWidget`.

```dart {3, 6-8}
await SentryFlutter.init(
  (options) {
    options.attachScreenshot = true;
  },
  appRunner: () => runApp(
    SentryWidget(
      child: MyApp(),
    ),
  ),
);
```

### Customize Screenshot Capturing

<Alert>

Requires SDK version `8.11.0` or higher.

</Alert>

By default, Flutter limits screenshot captures to once every 2 seconds to minimize performance impact. While this debounce interval cannot be changed, you can customize capture behavior by implementing the `beforeCaptureScreenshot` callback in your `SentryFlutterOptions`.

This callback gives you fine-grained control over screenshot captures based on event and hint data, allowing you to implement conditional logic.

<Alert>

The `debounce` parameter is `true` if the debounce is active.
If you want to capture screenshots regardless of the debounce, you ignore the `debounce` parameter.

</Alert>

```dart {tabTitle: 'Respect debounce'} {2-9}
await SentryFlutter.init((options) {
  options.beforeCaptureScreenshot = (event, hint, debounce) async {
    // If debounce is active, skip capturing
    if (debounce) {
      return false;
    }
    // Capture screenshot if it's a fatal event
    return event.level == SentryLevel.fatal;
  };
});
```

```dart {tabTitle: 'Ignore debounce'} {2-4}
await SentryFlutter.init((options) {
  options.beforeCaptureScreenshot = (event, hint, debounce) async {
    // Capture screenshot if it's a fatal event regardless of debounce
    return event.level == SentryLevel.fatal;
  };
});
```

## Filtering Screenshots

You can filter your screenshots by using the `beforeCaptureScreenshot` callback, which is called before attaching a screenshot to an event. By default, the callback returns `true` which means that all screenshots are attached.

If the callback returns `false`, the screenshot will not be attached.

```dart {4-10}
await SentryFlutter.init(
  (options) {
    options.attachScreenshot = true;
    options.beforeScreenshot = (event, {hint}) {
    // Based on some condition you can decide to attach the screenshot or drop it
    if (event.throwable is MyImportantException) {
      return true;
    }
      return false;
    };
  },
  appRunner: () => runApp(
    SentryWidget(
      child: MyApp(),
    ),
  ),
);
```

## Redact Screenshots via `masking`

The masking feature is enabled by default for screenshots.
If you want to disable or configure the masking feature, you can do so by adjusting the `options.experimental.privacy` option.

<Alert level="warning">
  Modifying this parameter will also affect `masking` for{" "}
  <PlatformLink to="/session-replay/">`Session Replay`</PlatformLink>.
</Alert>

<PlatformContent includePath="replay/privacy-configuration" />
